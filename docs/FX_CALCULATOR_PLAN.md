# 汇率盈亏计算器 - 开发计划

## 工具概述
**目的**：计算美元保单需要持有多少年才能抵消汇率下跌的损失

## 核心功能

### 输入参数
| 参数 | 说明 | 默认值 |
|------|------|--------|
| 投保年份 | 何时投保 | 2020 |
| 投保时汇率 | USD/CNY 买入价 | 7.0 |
| 当前汇率 | USD/CNY 当前价 | 7.2 |
| 保费总额 | 每年缴费金额（美元） | 10,000 |
| 缴费年期 | 多少年 | 5 |
| 预期IRR | 预计年化收益 | 5% |

### 输出结果
| 指标 | 说明 |
|------|------|
| 汇率损失 | 因汇率变化导致的本金损失 |
| 累积收益 | 美元保单现金价值 |
| 实际收益 | 换算人民币后的实际收益 |
| 盈亏平衡年 | 多少年后汇率影响被收益抵消 |

### 可视化
- 汇率变化对收益的影响图表
- 盈亏平衡点标注

---

## 页面结构

```
┌─────────────────────────────────────────┐
│           Hero Section                   │
├─────────────────────────────────────────┤
│  输入面板（左侧/上方）                   │
│  ┌─────────────────────┐               │
│  │ 投保年份            │               │
│  │ 投保时汇率          │               │
│  │ 当前汇率            │               │
│  │ 保费总额            │               │
│  │ 缴费年期            │               │
│  │ 预期IRR             │               │
│  └─────────────────────┘               │
│                                         │
│  结果面板（右侧/下方）                   │
│  ┌─────────────────────┐               │
│  │ 汇率损失           │               │
│  │ 累积收益           │               │
│  │ 实际收益           │               │
│  │ 盈亏平衡年         │               │
│  └─────────────────────┘               │
│                                         │
│  图表                                   │
│  [        折线图展示变化        ]      │
│                                         │
├─────────────────────────────────────────┤
│           FAQ / 说明                     │
└─────────────────────────────────────────┘
```

---

## 关键计算公式

### 1. 汇率损失
```
汇率损失 = 保费总额 × (当前汇率 - 投保时汇率)
```

### 2. 累积现金价值（复利计算）
```
现金价值 = Σ(每年保费 × (1 + IRR)^剩余年限)
```

### 3. 盈亏平衡
```
当 现金价值×当前汇率 - 汇率损失 > 0 时的年份
```

---

## 技术实现

### 文件结构
```
app/fx-calculator/
├── page.tsx          # 主页面
├── CLAUDE.md         # 开发说明
```

### 依赖组件
- Card, CardContent (shadcn/ui)
- Input, Label (shadcn/ui)
- Slider (shadcn/ui)
- Button (shadcn/ui)
- Recharts (图表)

---

## 执行步骤

1. 创建页面基础结构
2. 添加输入表单组件
3. 实现计算逻辑
4. 添加结果展示
5. 添加可视化图表
6. 优化响应式布局
7. 添加说明文案

---

*生成日期：2026-02-16*
